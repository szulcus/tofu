(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8113c880"],{"0ede":function(t,e,s){"use strict";s("5e62")},"5a58":function(t,e,s){},"5e62":function(t,e,s){},a072:function(t,e,s){"use strict";s("5a58")},ad0a:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[t.quizPreview?s("div",{staticClass:"quiz-preview"},[s("h1",{staticClass:"quiz-preview__title"},[t._v("Wyniki użytkownika "),s("span",{staticClass:"quiz-preview__title--owner"},[t._v(t._s(t.quizPreview.owner))])]),s("div",{staticClass:"answers"},[s("div",{staticClass:"answer"},[t.quizPreview.answers.length?s("fragment",[s("Button",{attrs:{content:"Podejmij wyzwanie!"},on:{click:function(e){t.$router.push({name:"Answer",params:{nick:t.jwtNick(t.quizPreview.owner)}})}}})],1):s("fragment",[s("div",{staticClass:"answer__date"},[t._v("Nikt jeszcze nie rozwiązał tego quizu")]),s("div",{staticClass:"answer__title"},[t._v("Chcesz być pierwszy(a)?")]),s("Button",{attrs:{content:"Jasne!"},on:{click:function(e){t.$router.push({name:"Answer",params:{nick:t.jwtNick(t.quizPreview.owner)}})}}})],1)],1),t._l(t.quizPreview.answers.slice().reverse(),(function(e,n){return s("div",{key:n,staticClass:"answer"},[s("div",{staticClass:"answer__date"},[t._v(t._s(t.$dayjs.unix(e.date).format("D MMMM o H:mm")))]),s("div",{staticClass:"answer__title"},[t._v(t._s(e.username)+" zdobył(a) "+t._s(e.percents)+"%")]),s("Button",{attrs:{content:"Sprawdź"},on:{click:t.checkAnswer}})],1)}))],2),s("div",{staticClass:"quiz-preview__back"},[s("fa-icon",{attrs:{icon:"times"},on:{click:t.setQuiz}})],1)]):t._e(),s("div",{staticClass:"view",style:{animation:t.$loaded?"bottomElation 0.5s both":"bottomElation 0.5s 1s both"}},[s("div",{staticClass:"search__field"},[s("fa-icon",{staticClass:"field__icon",attrs:{icon:"search"}}),s("input",{staticClass:"field__input",attrs:{type:"search",placeholder:"Wyszukaj znajomych..."},on:{keyup:t.search}})],1),s("div",{staticClass:"quizzes"},["..."===t.quizzesResults?s("fragment",[t._v(" ... ")]):t.quizzesResults.length?s("fragment",[t._l(t.quizzesResults,(function(e){return s("div",{key:e.owner,class:["quiz",{"quiz--respect":t.quizzesSorted.map((function(t){return t.owner})).indexOf(e.owner)+1<=3&&"owner"!==t.sortedBy}],on:{click:function(s){return t.setQuiz(e.owner)}}},[s("div",{staticClass:"quiz__place"},[t._v(" "+t._s(t.quizzesSorted.map((function(t){return t.owner})).indexOf(e.owner)+1)+" ")]),s("h1",{staticClass:"quiz__owner"},[t._v(" "+t._s(e.owner)+" ")]),s("div",{staticClass:"quiz__achievements"},[t._v(t._s(e.average)+"% ("+t._s(e.percents.length)+" "+t._s(1===e.percents.length?"odpowiedź":"odpowiedzi")+")")])])})),s("SortMenu",{attrs:{sortedBy:t.sortedBy},on:{"change-sort":t.sortBy}})],2):s("fragment",[t._v(" Brak wyników... ")])],1)])])},i=[],r=(s("4de4"),s("4160"),s("caad"),s("c975"),s("d81d"),s("13d5"),s("a9e3"),s("b680"),s("2532"),s("159b"),s("14b7")),a=s.n(r),o=s("ca45"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sort-menu",attrs:{id:"sort-menu"}},[t.active?s("fragment",[s("div",{staticClass:"sort-by sort-by--option",on:{click:function(e){return t.changeSort("percents")}}},[s("fa-icon",{attrs:{icon:"star"}})],1),s("div",{staticClass:"sort-by sort-by--option",on:{click:function(e){return t.changeSort("users")}}},[s("fa-icon",{attrs:{icon:"users"}})],1),s("div",{staticClass:"sort-by sort-by--option",on:{click:function(e){return t.changeSort("owner")}}},[s("fa-icon",{attrs:{icon:"sort-alpha-down"}})],1)]):t._e(),s("fragment",["percents"===t.sortedBy?s("div",{class:["sort-by",{"sort-by--active":t.active}],on:{click:function(e){t.active=!t.active}}},[s("fa-icon",{attrs:{icon:"star"}})],1):"users"===t.sortedBy?s("div",{class:["sort-by",{"sort-by--active":t.active}],on:{click:function(e){t.active=!t.active}}},[s("fa-icon",{attrs:{icon:"users"}})],1):"owner"===t.sortedBy?s("div",{class:["sort-by",{"sort-by--active":t.active}],on:{click:function(e){t.active=!t.active}}},[s("fa-icon",{attrs:{icon:"sort-alpha-down"}})],1):t._e()])],1)},u=[],d={name:"SortMenu",props:{sortedBy:String},data:function(){return{active:!1}},mounted:function(){var t=this;window.addEventListener("click",(function(e){document.getElementById("sort-menu").contains(e.target)||(t.active=!1)}))},methods:{changeSort:function(t){this.$emit("change-sort",t),this.active=!1}}},l=d,z=(s("0ede"),s("2877")),v=Object(z["a"])(l,c,u,!1,null,"851bba58",null),f=v.exports,h={name:"Ranking",components:{Button:o["a"],SortMenu:f},data:function(){return{quizzes:[],quizzesSorted:[],quizzesResults:"...",quizPreview:null,sortedBy:""}},mounted:function(){var t=this;this.$db.collection("quizzes").get().then((function(e){var s=[];return e.forEach((function(t){s.push(t.data())})),t.quizzes=s,s})).then((function(e){var s=[];e.forEach((function(t){var e=[];t.answers.forEach((function(t){e.push(t.percents)}));var n=Number((e.length?e.reduce((function(t,e){return t+e}),0)/e.length:0).toFixed(2));s.push({owner:t.owner,percents:e,average:n})})),t.quizzesSorted=s,t.sortBy("percents")}))},methods:{jwtNick:function(t){return a.a.sign(t,this.$jwtPassword)},sortBy:function(t){"percents"===t?(this.quizzesSorted=this.quizzesSorted.sort((function(t,e){return t.average>e.average?-1:t.average<e.average?1:0})),this.quizzesResults=this.quizzesSorted,this.sortedBy=t):"users"===t?(this.quizzesSorted=this.quizzesSorted.sort((function(t,e){return t.percents.length>e.percents.length?-1:t.percents.length<e.percents.length?1:0})),this.quizzesResults=this.quizzesSorted,this.sortedBy=t):"owner"===t&&(this.quizzesSorted=this.quizzesSorted.sort((function(t,e){return t.owner<e.owner?-1:t.owner>e.owner?1:0})),this.quizzesResults=this.quizzesSorted,this.sortedBy=t)},setQuiz:function(t){if(t){var e=this.quizzes.map((function(t){return t.owner})).indexOf(t);this.quizPreview=this.quizzes[e]}else this.quizPreview=null},checkAnswer:function(){alert("Przepraszamy, ale funkcja jest jeszcze nie dostępna...")},search:function(t){var e=t.target.value.toLowerCase();this.quizzesResults=this.quizzesSorted.filter((function(t){return t.owner.toLowerCase().includes(e)}))}}},w=h,p=(s("a072"),Object(z["a"])(w,n,i,!1,null,"554ef560",null));e["default"]=p.exports},c975:function(t,e,s){"use strict";var n=s("23e7"),i=s("4d64").indexOf,r=s("a640"),a=s("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,u=r("indexOf"),d=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!u||!d},{indexOf:function(t){return c?o.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-8113c880.861a62b1.js.map