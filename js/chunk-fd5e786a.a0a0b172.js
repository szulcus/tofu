(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd5e786a"],{"15aa":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("fragment",[t.results.correct||t.results.incorrect?e("div",{staticClass:"results-container"},[e("div",{staticClass:"results"},[e("h1",{staticClass:"results__title"},[t._v("Wyniki")]),e("div",{staticClass:"results__compare"},[e("ul",{staticClass:"compare__list"},[e("h2",{staticClass:"list__subtitle"},[t._v("Dobrze:")]),t._l(t.results.correct,(function(s,i){return e("li",{key:i,staticClass:"list__item"},[t._v(" Czy "+t._s(t.friendNick)+" "+t._s(s.refunds.indirect)+" "),e("span",{staticClass:"answer"},[t._v(t._s("+"===s.answer?"Tak!":"Nie!"))])])})),e("div",{staticClass:"list__sum"},[t._v("Razem: "),e("span",{staticClass:"sum__number"},[t._v(t._s(t.results.correct.length))])])],2),e("ul",{staticClass:"compare__list"},[e("h2",{staticClass:"list__subtitle"},[t._v("Niedobrze:")]),t._l(t.results.incorrect,(function(s,i){return e("li",{key:i,staticClass:"list__item"},[t._v(" Czy "+t._s(t.friendNick)+" "+t._s(s.refunds.indirect)+" "),e("span",{staticClass:"answer"},[t._v(t._s("+"===s.answer?"Tak!":"Nie!"))])])})),e("div",{staticClass:"list__sum"},[t._v("Razem: "),e("span",{staticClass:"sum__number"},[t._v(t._s(t.results.incorrect.length))])])],2)]),e("div",{staticClass:"results__answer"},[e("div",{staticClass:"answer__content"},[t._v("Znasz swojego przyjaciela w "),e("span",{staticClass:"results__percents"},[t._v(t._s(t.results.percents)+"%")]),t._v(". Gratulacje!")]),e("Button",{attrs:{content:"Ok!"},on:{click:function(s){return t.$router.push({name:"Home"})}}})],1)])]):t._e(),e("div",{staticClass:"view",style:{animation:t.$loaded?"bottomElation 0.5s both":"bottomElation 0.5s 1s both"}},[e("form",{staticClass:"test-form",on:{submit:function(s){return s.preventDefault(),t.save(s)}}},[e("div",{staticClass:"test-form__info"},[e("div",{staticClass:"owner-name"},[t._v(t._s(t.friendNick))]),e("div",{staticClass:"separation"},[t._v("|")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input-name",attrs:{placeholder:"Twój nick",type:"text",required:""},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),"..."===t.questions?e("div",{staticClass:"question"},[t._v(" ... ")]):t.questions?e("div",{class:["question",{"answer-yes":"+"===t.questions[t.activeIndex].answer,"answer-no":"-"===t.questions[t.activeIndex].answer}]},[e("div",{staticClass:"question__nav",on:{click:t.indexDown}},[e("fa-icon",{attrs:{icon:"angle-left"}})],1),e("div",{staticClass:"question__nav",on:{click:t.indexUp}},[e("fa-icon",{attrs:{icon:"angle-right"}})],1),e("div",{staticClass:"question__title",on:{click:function(s){t.questionPreview=!t.questionPreview}}},[e("div",{class:["title__content",{"title__content--ellipsis":!t.questionPreview}]},[t._v("Czy "+t._s(t.friendNick)+" "+t._s(t.questions[t.activeIndex].refunds.indirect))]),t.windowWidth<800?e("fragment",[t.questionPreview?e("fa-icon",{staticClass:"title__icon",attrs:{icon:"angle-up"}}):e("fa-icon",{staticClass:"title__icon",attrs:{icon:"angle-down"}})],1):t._e()],1),e("div",{directives:[{name:"bg",rawName:"v-bg",value:t.questions[t.activeIndex].img,expression:"questions[activeIndex].img"}],staticClass:"question__image"}),e("div",{staticClass:"question__decisions"},[e("fragment",[e("div",{staticClass:"question__decision",on:{click:function(s){return t.answer("+")}}},[e("fa-icon",{attrs:{icon:"check"}})],1),e("div",{staticClass:"question__decision"},[t._v(" | ")]),e("div",{staticClass:"question__decision",on:{click:function(s){return t.answer("-")}}},[e("fa-icon",{attrs:{icon:"times"}})],1)])],1)]):e("div",{staticClass:"question"},[e("div",[e("div",{staticClass:"question__title"},[e("div",{staticClass:"title__content"},[t._v("Nie ma takiego użytkownika!")])]),e("div",{staticClass:"question__offer"},[t._v(" Może poszukamy kogoś innego? ")])]),e("div",{staticClass:"description"},[e("Button",{attrs:{content:"Ok",type:"text"},on:{click:function(s){return t.$router.push({name:"Home"})}}})],1)]),e("div",{staticClass:"description"},[t.questions?e("div",[t.all<t.questions.length?e("fragment",[e("div",{staticClass:"description__progress"},[e("div",{staticClass:"description__progress__bar",style:{width:t.all%t.questions.length/t.questions.length*100+"%"}})]),e("div",{staticClass:"description__score"},[t._v(t._s(t.all)+" / "+t._s(t.questions.length))])]):e("fragment",[e("Button",{attrs:{content:"Gotowe!",type:"submit"}})],1)],1):t._e()])])])])},n=[],a=(e("4160"),e("caad"),e("d81d"),e("a9e3"),e("b680"),e("2532"),e("159b"),e("14b7")),o=e.n(a),r=e("ca45"),c={name:"Answer",components:{Button:r["a"]},data:function(){return{friendNick:"-",windowWidth:window.innerWidth,questionPreview:!1,username:"",questions:"...",ownerQuestions:[],activeIndex:0,all:0,results:{}}},mounted:function(){var t=this;o.a.verify(this.$route.params.nick,this.$jwtPassword,(function(s,e){e?(t.friendNick=e,t.$db.collection("quizzes").doc(t.friendNick).get().then((function(t){return t.data()?t.data().questions:t.data()})).then((function(s){var e=[];t.ownerQuestions=s,s&&s.forEach((function(t){e.push({refunds:t.refunds,img:t.img,answer:null})})),t.questions=e.length?e:null}))):(console.error(s),t.questions=null)})),window.addEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},beforeDestroy:function(){var t=this;window.removeEventListener("resize",(function(){t.windowWidth=window.innerWidth}))},methods:{shuffle:function(t){for(var s=t.length-1;s>0;s--){var e=Math.floor(Math.random()*(s+1)),i=[t[e],t[s]];t[s]=i[0],t[e]=i[1]}return t},countAll:function(){var t=0;this.questions.forEach((function(s){s.answer&&t++})),this.all=t},answer:function(t){var s=this;this.questions[this.activeIndex].answer=t,setTimeout((function(){s.indexUp(),s.countAll()}),500)},indexUp:function(){this.activeIndex<this.questions.length-1?this.activeIndex++:this.activeIndex=0},indexDown:function(){this.activeIndex>0?this.activeIndex--:this.activeIndex=this.questions.length-1},save:function(){var t=this;this.$db.collection("quizzes").doc(this.friendNick).get().then((function(s){var e=s.data().answers.map((function(t){return t.username}));if(e.push(s.data().owner),e.includes(t.username))t.username===s.data().owner?alert("Nie możesz nazywać sie tak samo jak właściciel!"):alert("Taki użytkownik znajuje się już w bazie!");else{var i=[],n=[];t.ownerQuestions.forEach((function(s,e){t.questions[e].answer===s.answer?i.push(s):n.push(s)}));var a=Number((i.length/(i.length+n.length)*100).toFixed(2));t.results={correct:i,incorrect:n,percents:a,username:t.username,date:new Date},t.$db.collection("quizzes").doc(t.friendNick).update({answers:t.$dbfield.arrayUnion(t.results)})}}))}}},u=c,l=(e("2fdb"),e("2877")),d=Object(l["a"])(u,i,n,!1,null,"7887c508",null);s["default"]=d.exports},"2fdb":function(t,s,e){"use strict";e("8000")},8e3:function(t,s,e){}}]);
//# sourceMappingURL=chunk-fd5e786a.a0a0b172.js.map